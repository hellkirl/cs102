# Дескриптивный анализ данных
```{r}
# Задание 1

setwd('/Users/kirillprivalov/Desktop/University/Year 1/Programming/cs102/homework06')

dataframe <- read.csv('music_genre.csv')

df <- dataframe[sample(nrow(dataframe), 20000),]

df <- df[!duplicated(df),]

df <- df[!(df$artist_name == 'empty_field'),]

print(df)
```
```{r}
# Задание 2
library(ggplot2)

# 2.1
genre_percentage <- table(df$music_genre) / length(df$music_genre) * 100
genre_percentage_df <- data.frame(Music_genre = names(genre_percentage), Percentage = genre_percentage)
print(genre_percentage_df)

# 2.2
genres <- names(table(df$music_genre))
values <- as.vector(table(df$music_genre))
df_genre_val <- data.frame(Music_genre = genres, Values = values)
cc <- ifelse(values < max(values), "grey", "red")
ggplot(df_genre_val, aes(x = Values, y = Music_genre, fill = Music_genre)) +
  geom_bar(stat = "identity") +
  scale_fill_hue(l = 40) +
  scale_x_continuous(limits = c(0, max(values) + 10)) +
  theme_minimal() +
  theme(panel.grid.major = element_line(colour = "gray"))

# 2.3


# 2.4

```
```{r}
library(magrittr)
library(dplyr)
max_min_artist <- df %>% group_by(artist_name) %>% summarise(num_of_tracks = n()) %>% arrange(num_of_tracks)
max_min_artist[c(1, nrow(max_min_artist)), ]
top_twenty_artists <- max_min_artist %>% filter(rank(num_of_tracks) <= 20)
ggplot(top_twenty_artists, aes(x = num_of_tracks, y = artist_name)) +
  geom_bar(stat = "identity", fill = "steelblue") +
  theme_minimal() +
  theme(panel.grid.major = element_line(colour = "gray"),
        axis.text.y = element_text(size = 8)) +
  xlab("Value") +
  ylab("Artist name")
```

